<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.10.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2025-06-05T16:31:32+07:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Takraw’s blog</title><subtitle>blog เก็บ scripts ,, ขอกาวป๋องดิ</subtitle><author><name>Surapong Naowasate</name></author><entry><title type="html">Install Oracle Linux 6.8</title><link href="http://localhost:4000/blog/2025/06/05/install-oracle-linux.html" rel="alternate" type="text/html" title="Install Oracle Linux 6.8" /><published>2025-06-05T10:30:00+07:00</published><updated>2025-06-05T10:30:00+07:00</updated><id>http://localhost:4000/blog/2025/06/05/install-oracle-linux</id><content type="html" xml:base="http://localhost:4000/blog/2025/06/05/install-oracle-linux.html"><![CDATA[<blockquote>
  <p>ref . <a href="https://oracle-base.com/articles/11g/oracle-db-11gr2-installation-on-oracle-linux-6">install oracle linux 6.8 @oracle base</a></p>
</blockquote>

<h2 id="install-software-list-from-gui">Install Software List from GUI</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Base System &gt; Base
Base System &gt; Client management tools
Base System &gt; Compatibility libraries
Base System &gt; Hardware monitoring utilities
Base System &gt; Large Systems Performance
Base System &gt; Network file system client
Base System &gt; Performance Tools
Base System &gt; Perl Support
Servers &gt; Server Platform
Servers &gt; System administration tools
Desktops &gt; Desktop
Desktops &gt; Desktop Platform
Desktops &gt; Fonts
Desktops &gt; General Purpose Desktop
Desktops &gt; Graphical Administration Tools
Desktops &gt; Input Methods
Desktops &gt; X Window System
Development &gt; Additional Development
Development &gt; Development Tools
Applications &gt; Internet Browser
</code></pre></div></div>

<h2 id="update-latest-repo">Update latest repo</h2>

<blockquote>
  <p>sudo su -</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://archives.fedoraproject.org/pub/archive/epel/6/x86_64/epel-release-6-8.noarch.rpm
rpm <span class="nt">-Uvh</span> epel-release-6<span class="k">*</span>.rpm
</code></pre></div></div>

<h2 id="install-software">Install Software</h2>

<ul>
  <li>tmux</li>
  <li>htop</li>
  <li>open-vm-tools (for vmware)</li>
  <li>qemu-guest-agent (for proxmox)</li>
</ul>

<h2 id="config-bashrc">Config .bashrc</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export TMP=/tmp
export TMPDIR=$TMP

export ORACLE_HOSTNAME=localhost.localdomain
export ORACLE_UNQNAME=MEIS
export PS1='($ORACLE_SID) $PWD $ '
export ORACLE_BASE=/u01/app/oracle
export ORACLE_OWNER=oracle
export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/dbhome_1
export PATH=$PATH:/usr/openwin/bin:$ORACLE_HOME/bin:/usr/sbin:/usr/bin
export ORACLE_SID=MEIS
export EDITOR=vi
export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib:$ORACLE_HOME/owb/lib
export CLASSPATH=$ORACLE_HOME/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib:$ORACLE_HOME/owb/lib
</code></pre></div></div>

<h2 id="create-swap">Create Swap</h2>

<blockquote>
  <p>sudo su -</p>
</blockquote>

<ul>
  <li>create partition</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fdisk /dev/sdb
</code></pre></div></div>

<ul>
  <li>make swap</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkswap /dev/sdb1
</code></pre></div></div>

<ul>
  <li>add /etc/fstab</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/dev/sdb1                    swap    defaults        0 0
</code></pre></div></div>

<h2 id="add-disk-for-oracle-software">Add disk for Oracle Software</h2>

<blockquote>
  <p>sudo su -</p>
</blockquote>

<ul>
  <li>add create partition</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fdisk /dev/sdc
</code></pre></div></div>

<ul>
  <li>create pv</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pvcreate /dev/sdc1
</code></pre></div></div>

<ul>
  <li>create vgroup</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vgcreate oracle-datafiles /dev/sdc1
</code></pre></div></div>

<ul>
  <li>create lv</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lvcreate <span class="nt">-l</span> 100%FREE <span class="nt">-n</span> u01 oracle-datafiles
</code></pre></div></div>

<ul>
  <li>make file system (ext4)</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkfs.ext4 /dev/oracle-datafiles/u01
</code></pre></div></div>

<ul>
  <li>add to /etc/fstab</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/dev/mapper/oracle--datafiles-u01 /u01                   ext4    defaults        0 0
</code></pre></div></div>

<h2 id="config-tmpfs-etcfstab">Config tmpfs /etc/fstab</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tmpfs                   /dev/shm                tmpfs   <span class="nv">size</span><span class="o">=</span>16g        0 0
</code></pre></div></div>

<h2 id="add-group">Add group</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>useradd oracle
groupadd oinstall
groupadd dba
groupadd oper
usermod <span class="nt">-aG</span> oinstall oracle
</code></pre></div></div>

<h2 id="change-permission">Change permission</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chown</span> <span class="nt">-R</span> oracle:oinstall /u01
<span class="nb">chmod</span> <span class="nt">-R</span> 775 /u01
</code></pre></div></div>

<h2 id="add-disk-by-uuid">Add disk by UUID</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fdisk /dev/sdd
</code></pre></div></div>

<blockquote>
  <p>ex.</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[root@localhost ~]# fdisk /dev/sdd
Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel
Building a new DOS disklabel with disk identifier 0x68ddcc31.
Changes will remain in memory only, until you decide to write them.
After that, of course, the previous content won't be recoverable.

Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)

WARNING: DOS-compatible mode is deprecated. It's strongly recommended to
         switch off the mode (command 'c') and change display units to
         sectors (command 'u').

Command (m for help): n
Command action
   e   extended
   p   primary partition (1-4)
p
Partition number (1-4): 1
First cylinder (1-15665, default 1): 1
Last cylinder, +cylinders or +size{K,M,G} (1-15665, default 15665):
Using default value 15665

Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
</code></pre></div></div>

<ul>
  <li>create partition</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pvcreate /dev/sdd1
</code></pre></div></div>

<ul>
  <li>add pv to vg</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vgextend oracle-datafiles /dev/sdd1
</code></pre></div></div>

<ul>
  <li>create lv</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lvcreate <span class="nt">-l</span> 100%FREE <span class="nt">-n</span> u02 oracle-datafiles
</code></pre></div></div>

<ul>
  <li>check lv</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>root@localhost ~]# lvs
  LV      VG               Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  lv_home VolGroup         <span class="nt">-wi-ao----</span>  41.65g
  lv_root VolGroup         <span class="nt">-wi-ao----</span>  50.00g
  lv_swap VolGroup         <span class="nt">-wi-ao----</span>   7.86g
  u01     oracle-datafiles <span class="nt">-wi-ao----</span> 100.00g
  u02     oracle-datafiles <span class="nt">-wi-a-----</span> 120.00g
</code></pre></div></div>

<ul>
  <li>make file system (ext4)</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkfs.ext4 /dev/oracle-datafiles/u02
</code></pre></div></div>

<ul>
  <li>list disk UUID</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lsblk <span class="nt">-fs</span> <span class="nt">-d</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[root@localhost ~]# lsblk -fs -d
NAME                         FSTYPE LABEL UUID                                 MOUNTPOINT
sda1                         ext4         5f536fce-9109-4882-bfea-800c8139b6f7 /boot
sdb1                         swap         1c5b8002-9ad7-4c71-8559-4f32b314cd8a [SWAP]
sr0
VolGroup-lv_root (dm-0)      ext4         eeb3fb4a-dd0f-4cd0-9179-cbd4e87833f7 /
VolGroup-lv_swap (dm-1)      swap         c8b967c2-25d8-4f07-b0b2-da31e9e6fc9b [SWAP]
oracle--datafiles-u01 (dm-2) ext4         7fa4f11d-e569-4437-829a-a916d7f5e77b /u01
VolGroup-lv_home (dm-3)      ext4         f126fe80-17f2-44b8-bf50-0507870cb020 /home
oracle--datafiles-u02 (dm-4) ext4         61f32085-28e4-43b0-9e20-47a0130a84ca
</code></pre></div></div>

<ul>
  <li>create mount point</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> /u02
</code></pre></div></div>

<ul>
  <li>add /etc/fstab</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UUID=61f32085-28e4-43b0-9e20-47a0130a84ca /u02                   ext4    defaults        0 0
</code></pre></div></div>

<h2 id="config-oracle-installation-prequisites">Config Oracle Installation Prequisites</h2>

<ul>
  <li>edit /etc/security/limits.conf</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>oracle              soft    nproc   16384
oracle              hard    nproc   16384
oracle              soft    nofile  4096
oracle              hard    nofile  65536
oracle              soft    stack   10240
</code></pre></div></div>

<ul>
  <li>edit /etc/security/limits.d/90-nproc.conf</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Change this
*          soft    nproc    1024

# To this
* - nproc 16384
</code></pre></div></div>

<ul>
  <li>edit /etc/selinux/config</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELINUX=permissive
</code></pre></div></div>

<h2 id="change-permission-02">Change permission /02</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chown</span> <span class="nt">-R</span> oracle:oinstall /u02
<span class="nb">chmod</span> <span class="nt">-R</span> 775 /u02
</code></pre></div></div>

<h2 id="install-the-following-packages-from-dvd">Install the following packages from DVD</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /media/OL6.8<span class="se">\ </span>x86_64<span class="se">\ </span>Disc<span class="se">\ </span>1<span class="se">\ </span>20160518/Server/Packages
rpm <span class="nt">-Uvh</span> binutils-2<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> glibc-2<span class="k">*</span>x86_64<span class="k">*</span> nss-softokn-freebl-3<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> glibc-2<span class="k">*</span>i686<span class="k">*</span> nss-softokn-freebl-3<span class="k">*</span>i686<span class="k">*</span>
rpm <span class="nt">-Uvh</span> compat-libstdc++-33<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> glibc-common-2<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> glibc-devel-2<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> glibc-devel-2<span class="k">*</span>i686<span class="k">*</span>
rpm <span class="nt">-Uvh</span> glibc-headers-2<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> elfutils-libelf-0<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> elfutils-libelf-devel-0<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> gcc-4<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> gcc-c++-4<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> ksh-<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libaio-0<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libaio-devel-0<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libaio-0<span class="k">*</span>i686<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libaio-devel-0<span class="k">*</span>i686<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libgcc-4<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libgcc-4<span class="k">*</span>i686<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libstdc++-4<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libstdc++-4<span class="k">*</span>i686<span class="k">*</span>
rpm <span class="nt">-Uvh</span> libstdc++-devel-4<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> make-3.81<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> numactl-devel-2<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> sysstat-9<span class="k">*</span>x86_64<span class="k">*</span>
rpm <span class="nt">-Uvh</span> compat-libstdc++-33<span class="k">*</span>i686<span class="k">*</span>
rpm <span class="nt">-Uvh</span> compat-libcap<span class="k">*</span>
<span class="nb">cd</span> /
eject
</code></pre></div></div>

<h2 id="automatic-setup">Automatic setup</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> yum <span class="nb">install </span>oracle-rdbms-server-11gR2-preinstall
</code></pre></div></div>]]></content><author><name>takraw</name></author><category term="blog" /><category term="linux" /><category term="oracle" /><category term="database" /><summary type="html"><![CDATA[ref . install oracle linux 6.8 @oracle base]]></summary></entry><entry><title type="html">Linux LVM Management</title><link href="http://localhost:4000/blog/2025/06/05/lvm.html" rel="alternate" type="text/html" title="Linux LVM Management" /><published>2025-06-05T10:30:00+07:00</published><updated>2025-06-05T10:30:00+07:00</updated><id>http://localhost:4000/blog/2025/06/05/lvm</id><content type="html" xml:base="http://localhost:4000/blog/2025/06/05/lvm.html"><![CDATA[<h1 id="step-by-step-to-add-disk-to-lvm-and-resize-lv">Step by step to add disk to LVM and resize lv</h1>

<h2 id="add-disk">Add Disk</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fdisk <span class="nt">-l</span> /dev/sdx and create new partition
pvcreate /dev/sdx1
vgdisplay
</code></pre></div></div>

<h2 id="create-lvm-volume">Create LVM Volume</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
vgcreate volumn_name /dev/sdd
</code></pre></div></div>

<h2 id="extend-volume">Extend Volume</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vgextend vol_group_name /dev/sdx1
</code></pre></div></div>

<h2 id="create-logical-volume">Create Logical Volume</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lvcreate <span class="nt">-l</span> 20m <span class="nt">-n</span> logical_vol vol_group
lvcreate <span class="nt">-l</span> 100%FREE <span class="nt">-n</span> logical_vol vol_group
lvdisplay
</code></pre></div></div>

<h2 id="extend-logical-volume">Extend Logical Volume</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
lvextend <span class="nt">-l</span> +100%FREE /dev/vol_group_name/logical_volume
</code></pre></div></div>

<blockquote>
  <p>or</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
lvextend /dev/vol_group_name /dev/sdx1
</code></pre></div></div>

<h2 id="resize-lvm">Resize LVM</h2>

<h3 id="ext-file-system">ext file system</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>resize2fs /dev/log_vol_group_name
</code></pre></div></div>

<h3 id="xfs-file-system">XFS file system</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
xfs_growfs /MOUNT_POINT
</code></pre></div></div>

<h3 id="ext4-file-system">ext4 file system</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>resize4fs /dev/log_vol_group_name
</code></pre></div></div>]]></content><author><name>takraw</name></author><category term="blog" /><category term="linux" /><category term="lvm" /><summary type="html"><![CDATA[Step by step to add disk to LVM and resize lv]]></summary></entry><entry><title type="html">Ruby Install</title><link href="http://localhost:4000/blog/2025/06/05/ruby-install.html" rel="alternate" type="text/html" title="Ruby Install" /><published>2025-06-05T10:30:00+07:00</published><updated>2025-06-05T10:30:00+07:00</updated><id>http://localhost:4000/blog/2025/06/05/ruby-install</id><content type="html" xml:base="http://localhost:4000/blog/2025/06/05/ruby-install.html"><![CDATA[<h2 id="install-dependency">install dependency</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> git ruby-full build-essential zlib1g-dev
</code></pre></div></div>

<h2 id="install-ruby">install ruby</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s1">'# Install Ruby Gems to ~/.gem'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="nb">echo</span> <span class="s1">'export GEM_HOME="$HOME/.gem"'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="nb">echo</span> <span class="s1">'export PATH="$HOME/.gem/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="nb">source</span> ~/.bashrc
</code></pre></div></div>

<h2 id="install-jekyll-and-bundler">install jekyll and bundler</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem <span class="nb">install </span>jekyll bundler
</code></pre></div></div>

<h2 id="install-bundler">install bundler</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle install
</code></pre></div></div>

<h2 id="run-server">run server</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle <span class="nb">exec </span>jekyll serve
</code></pre></div></div>]]></content><author><name>takraw</name></author><category term="blog" /><category term="gem" /><category term="ruby" /><summary type="html"><![CDATA[install dependency]]></summary></entry><entry><title type="html">Fix DHCP for Ubuntu vmware template</title><link href="http://localhost:4000/blog/2025/06/05/vmware-ubuntu-template.html" rel="alternate" type="text/html" title="Fix DHCP for Ubuntu vmware template" /><published>2025-06-05T10:30:00+07:00</published><updated>2025-06-05T10:30:00+07:00</updated><id>http://localhost:4000/blog/2025/06/05/vmware-ubuntu-template</id><content type="html" xml:base="http://localhost:4000/blog/2025/06/05/vmware-ubuntu-template.html"><![CDATA[<blockquote>
  <p>Run script, shutdown and convert to template</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo rm</span> /etc/machine-id
<span class="nb">sudo touch</span> /etc/machine-id
<span class="nb">sudo chmod </span>644 /etc/machine-id
</code></pre></div></div>]]></content><author><name>takraw</name></author><category term="blog" /><category term="linux" /><category term="vmware" /><summary type="html"><![CDATA[Run script, shutdown and convert to template]]></summary></entry></feed>